"use strict";function newRate(){function t(t,n){n.innerHTML="",n.innerHTML=t}function n(){return 3>s?.5:s>=3&&6.5>s?1:s>=6.5&&10>s?1.5:s>=10&&15>s?2:s>=15&&20>s?3:s>=20&&25>s?4:s>=25?5:void 0}function e(){function t(){(h>0&&d>=10||h>25&&d>=10||h>50&&d>=10||h>0&&d>=10||-50>=h&&d>=10||-100>=h&&d>=10)&&(c=!0)}function n(){return h>0?(t(),"New Rate: "+s.toString()+" units/hr"):h>=-25&&0>=h?"New Rate: "+(s-i).toString()+" units/hr":-25>h?"STOP INFUSION. Check BG every 30 minutes. When BG &#8805; 100mg/dL, restart drip at "+(.75*s).toString()+" units/hr":void 0}function e(){return h>25?(t(),"New Rate: "+(s+i).toString()+" units/hr"):h>=-25&&25>=h?"New Rate: "+s.toString()+" units/hr":h>=-50&&-26>=h?"New Rate: "+(s-i).toString()+" units/hr":-50>h?"Hold infusion for 30 minutes, then start infusion at "+(s-d).toString()+" units/hr":void 0}function r(){return h>50?(t(),"New Rate: "+(s+d).toString()+" units/hr"):h>=0&&50>=h?"New Rate: "+(s+i).toString()+" units/hr":h>=-50&&-1>=h?"New Rate: "+s.toString()+" units/hr":h>=-75&&-51>=h?"New Rate: "+(s-i).toString()+" units/hr":-50>=h?(t(),"Hold infusion for 30 minutes, then start infusion at "+(s-d).toString()+" units/hr"):void 0}function u(){return h>0?(t(),"New Rate: "+(s+d).toString()+" units/hr"):h>=-25&&0>=h?"New Rate: "+(s+i).toString()+" units/hr":h>=-75&&-26>=h?"New Rate: "+s.toString()+" units/hr":h>=-100&&-76>=h?"New Rate: "+(s-i).toString()+" units/hr":-100>h?(t(),"Hold infusion for 30 minutes, then start infusion at "+(s-d).toString()+" units/hr"):void 0}var a,d=2*i;return 75>o&&(a="STOP INFUSION"),o>=75&&99>=o&&(a=n()),o>=100&&139>=o&&(a=e()),o>=140&&199>=o&&(a=r()),o>=200&&(a=u()),a}var i,r,o=parseFloat(document.getElementById("currentBG").value,10),u=parseFloat(document.getElementById("lastBG").value,10),a=parseFloat(document.getElementById("timeSinceLastBG").value,10),s=parseFloat(document.getElementById("currentRate").value,10),h=(o-u)/a,c=!1,d=document.getElementById("alert"),g=document.getElementById("newRate"),l=document.getElementById("B3"),m=document.getElementById("B6");return i=n(),o&&u&&a&&s?(o>=60&&t("When BG &#8805; 100 mg/dL, wait 1 hour, then restart infusion at 50% of original rate.",l),60>o&&t("When BG &#8805; 100 mg/dL, wait 1 hour, then restart infusion at "+.5*s+" units/hr.",l),o>74&&t("When BG &#8805; 100 mg/dL, wait 1 hour, then restart infusion at 75% of original rate.",m),o>=60&&74>=o&&t("When BG &#8805; 100 mg/dL, wait 1 hour, then restart infusion at "+.75*s+" units/hr.",m),60>o&&t("When BG &#8805; 100 mg/dL, wait 1 hour, then restart infusion at 75% of original rate.",m),document.getElementById("alert").innerHTML="",r=e(),void(c?(g.innerHTML="",t("<p>CONTACT PHYSICIAN</p>",d)):t("<p>"+r+"</p>",g))):(t("<p>Formula value(s) missing</p>",d),!1)}var calcButton=document.getElementById("calcButton");calcButton.attachEvent?calcButton.attachEvent("onclick",newRate):calcButton.addEventListener("click",newRate);